version: 1
applications:
  - appRoot: "frontend" # Path to your frontend directory
    frontend:
      phases:
        preBuild:
          commands:
            - npm install -g vite # Install Vite globally
            - npm install # Install dependencies
        build:
          commands:
            - npm run build # Build using Vite
      artifacts:
        baseDirectory: dist # Specify the output folder of your build (Vite default is dist)
        files:
          - "**/*"
      cache:
        paths:
          - node_modules/**/*

  - rewrites:
      - source: "/api/<*>"
        destination: "http://educonnect-backend.ap-southeast-1.elasticbeanstalk.com/api/<*>"
        type: proxy
# Optionally, you can include backend configuration here if needed.
